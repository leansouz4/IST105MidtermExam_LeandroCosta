<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.inputmask/5.0.7/jquery.inputmask.min.js"></script>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js"></script>
    <link rel="shortcut icon" type="image/x-icon" href="https://canvascctb.s3.ca-central-1.amazonaws.com/account_1/attachments/95/CCTB_favicon.ico" />
    <style>
        .flag {
            width: 20px;
            height: auto;
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <h1>Login</h1>
    <div>
        <h2>Email and Password</h2>
        <input type="email" id="email" placeholder="Email" required>
        <input type="password" id="password" placeholder="Password" required>
        <button id="sign-in-button">Sign In with Google</button>

        <br><br>
        <button id="phone-login-button" onclick="togglePhoneInput()" style="background-color: black;">Sign In with Phone Number</button>
        <div id="phone-input" style="display: none;">
            <select id="country" style="width: 100%;">
                <option value="+1" data-flag="ðŸ‡¨ðŸ‡¦">Canada (+1)</option>
                <option value="+1" data-flag="ðŸ‡ºðŸ‡¸">USA (+1)</option>
                <option value="+44" data-flag="ðŸ‡¬ðŸ‡§">UK (+44)</option>
                <option value="+49" data-flag="ðŸ‡©ðŸ‡ª">Germany (+49)</option>
                <option value="+33" data-flag="ðŸ‡«ðŸ‡·">France (+33)</option>
                <option value="+34" data-flag="ðŸ‡ªðŸ‡¸">Spain (+34)</option>
                <option value="+55" data-flag="ðŸ‡§ðŸ‡·">Brazil (+55)</option>
            </select>
            <input type="text" id="phoneNumber" placeholder="Enter phone number" style="text-align: center;">
        </div>
    </div>

    <!-- Firebase Config Script -->
    <script src="js/firebase.js"></script>
    <!-- Main Script -->
    <script src="js/main.js"></script>

    <script>
        $(document).ready(function() {
            $('#country').select2({
                templateResult: formatState,
                templateSelection: formatState
            });

            $('#phoneNumber').inputmask({
                mask: '(999) 999-9999',
                placeholder: ' '
            });
        });

        function formatState(state) {
            if (!state.id) {
                return state.text;
            }
            const flag = $(state.element).data('flag');
            const flagImg = $('<img class="flag" src="https://flagcdn.com/w320/' + flag.toLowerCase() + '.png" alt="Flag">');
            return $('<span></span>').append(flagImg).append(state.text);
        }

        function togglePhoneInput() {
            $('#phone-input').toggle();
        }
    </script>
</body>
</html>
